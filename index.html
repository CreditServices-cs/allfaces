<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS Awards 2026</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .oscar-bg-gold {
            background: linear-gradient(135deg, #d4af37 0%, #f4d03f 50%, #d4af37 100%);
        }
        
        .animate-fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .bg-radial-gradient {
            background: radial-gradient(circle at center, var(--tw-gradient-stops));
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Configura√ß√µes
        const CONFIG = {
            ADMIN_PASSWORD: 'cs2026admin',
            CEREMONY_DATE: '12 de fevereiro de 2026',
            EXPORT_FILENAME_PREFIX: 'cs_awards_indicacoes',
            // URL DO GOOGLE APPS SCRIPT CONFIGURADA
            GOOGLE_SCRIPT_URL: 'https://script.google.com/macros/s/AKfycbwl05iP86BTWMko6SzTOzLmYnP97KyXd4pMRWSAfXUZeadEIEcMTo_Ajf74hsZJXLGv/exec',
            TEXTS: {
                WELCOME_TITLE: 'A grande premia√ß√£o de CS Awards - All Faces',
                WELCOME_DESCRIPTION: 'Vem ai, primeira edi√ß√£o para reconheremos nossos colegas de uma forma muito divertida.',
                CEREMONY_MESSAGE: 'Nos vemos na cerim√¥nia oficial em'
            }
        };

        // Categorias
        const CATEGORIES = [
            {
                id: 'diabo-veste-prada',
                movieReference: 'Estilo que inspira!',
                description: 'Aquela pessoa que faz do estilo uma marca registrada, trazendo identidade e personalidade ao dia a dia.'
            },
            {
                id: 'a-procura-da-felicidade',
                movieReference: 'Energia positiva!',
                description: 'Aquela pessoa que mant√©m o bom humor e a leveza mesmo diante dos desafios.'
            },
            {
                id: 'sherlock-holmes',
                movieReference: 'Mestre da investiga√ß√£o!',
                description: 'Aquela pessoa que analisa um problema a fundo, resolve bugs e mist√©rios,  sempre encontrando a causa raiz dos problemas.'
            },
            {
                id: 'miss-simpatia',
                movieReference: 'Queridinho(a) do time!',
                description: 'Aquela pessoa que √© refer√™ncia em parceria, constr√≥i rela√ß√µes positivas com empatia, respeito e colabora√ß√£o.'
            },
            {
                id: 'todo-poderoso',
                movieReference: 'Faz acontecer!',
                description: 'Aquela pessoa que d√° conta do recado, enfrenta o inesperado e transforma ideias em a√ß√£o.'
            }
        ];
        // Fun√ß√£o para enviar dados ao Google Sheets
        const sendToGoogleSheets = async (nomination) => {
            try {
                const response = await fetch(CONFIG.GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        action: 'submit_nomination',
                        nomination: nomination
                    })
                });

                const result = await response.json();
                return result;
            } catch (error) {
                console.error('Erro ao salvar sua indica√ß√£o:', error);
                return { success: false, message: 'Erro de conex√£o' };
            }
        };

        // Fun√ß√£o para buscar dados do Google Sheets (admin)
        const getFromGoogleSheets = async () => {
            try {
                const response = await fetch(CONFIG.GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        action: 'get_nominations'
                    })
                });

                const result = await response.json();
                return result;
            } catch (error) {
                console.error('Erro ao buscar do Google Sheets:', error);
                return { success: false, message: 'Erro de conex√£o' };
            }
        };

        // Fun√ß√£o para limpar dados do Google Sheets (admin)
        const clearGoogleSheets = async (adminPassword) => {
            try {
                const response = await fetch(CONFIG.GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        action: 'clear_all',
                        adminPassword: adminPassword
                    })
                });

                const result = await response.json();
                return result;
            } catch (error) {
                console.error('Erro ao limpar Google Sheets:', error);
                return { success: false, message: 'Erro de conex√£o' };
            }
        };
        // Layout Component
        const Layout = ({ children, showHeader = false }) => {
            return (
                <div className="min-h-screen bg-gradient-to-br from-black via-gray-950 to-black text-white">
                    <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-900/20 via-transparent to-transparent"></div>
                    
                    {showHeader && (
                        <header className="relative z-10 p-6 border-b border-gray-900/50">
                            <div className="max-w-4xl mx-auto flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <span className="text-2xl">üèÜ</span>
                                    <div>
                                        <h1 className="text-xl font-serif font-bold text-[#F5D98A]">CS AWARDS</h1>
                                        <p className="text-xs text-white/60 uppercase tracking-widest">Premia√ß√£o 2026</p>
                                    </div>
                                </div>
                            </div>
                        </header>
                    )}
                    
                    <main className="relative z-10 flex items-center justify-center min-h-screen p-6">
                        <div className="w-full max-w-2xl">
                            {children}
                        </div>
                    </main>
                    
                    <div className="fixed inset-0 pointer-events-none">
                        <div className="absolute top-10 left-10 w-2 h-2 bg-[#d4af37] rounded-full animate-pulse opacity-30"></div>
                        <div className="absolute top-32 right-20 w-1 h-1 bg-white rounded-full animate-pulse opacity-20 delay-1000"></div>
                        <div className="absolute bottom-20 left-32 w-1.5 h-1.5 bg-[#d4af37] rounded-full animate-pulse opacity-25 delay-2000"></div>
                        <div className="absolute bottom-40 right-10 w-1 h-1 bg-white rounded-full animate-pulse opacity-15 delay-3000"></div>
                    </div>
                </div>
                       );
        };
        // Main App Component
        const App = () => {
            const [step, setStep] = useState('welcome');
            const [currentCategoryIndex, setCurrentCategoryIndex] = useState(0);
            const [isAskingReason, setIsAskingReason] = useState(false);
            const [showSuccessMark, setShowSuccessMark] = useState(false);
            const [nomineeName, setNomineeName] = useState('');
            const [reason, setReason] = useState('');
            const [validationError, setValidationError] = useState('');
            const [allNominations, setAllNominations] = useState(() => {
                const saved = localStorage.getItem('cs-awards-nominations');
                return saved ? JSON.parse(saved) : [];
            });
            const [showAdmin, setShowAdmin] = useState(false);
            const [isAdminAuthenticated, setIsAdminAuthenticated] = useState(false);
            const [adminPassword, setAdminPassword] = useState('');
            const [showAdminLogin, setShowAdminLogin] = useState(false);
            const [isSubmitting, setIsSubmitting] = useState(false);
            
            // Novos estados para identifica√ß√£o do usu√°rio
            const [voterName, setVoterName] = useState(() => {
                return localStorage.getItem('cs-awards-voter-name') || '';
            });
            const [voterEmail, setVoterEmail] = useState(() => {
                return localStorage.getItem('cs-awards-voter-email') || '';
            });
            const [identificationError, setIdentificationError] = useState('');

            const getNominationsByEmail = (email) => {
                const normalizedEmail = email.trim().toLowerCase();
                return allNominations.filter(
                    nomination => (nomination.voterEmail || '').toLowerCase() === normalizedEmail
                );
            };

            const getNextAvailableCategoryIndex = (startIndex, nominationsByEmail) => {
                const nominatedCategoryIds = new Set(
                    nominationsByEmail.map(nomination => nomination.categoryId)
                );
                for (let i = startIndex; i < CATEGORIES.length; i += 1) {
                    if (!nominatedCategoryIds.has(CATEGORIES[i].id)) {
                        return i;
                    }
                }
                return -1;
            };

            const currentCategory = CATEGORIES[currentCategoryIndex];

            useEffect(() => {
                const params = new URLSearchParams(window.location.search);
                if (params.get('admin') === 'true') {
                    setShowAdmin(true);
                }
            }, []);

            const handleStart = () => {‚êä
                // Valida√ß√£o de identifica√ß√£o‚êä
                if (!voterName.trim()) {‚êä
                    setIdentificationError('Por favor, digite seu nome completo.');‚êä
                    return;‚êä
                }‚êä
                
                if (!voterEmail.trim()) {
                    setIdentificationError('Por favor, digite seu e-mail.');
                    return;
                }
                
                // Valida√ß√£o b√°sica de e-mail
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                const normalizedEmail = voterEmail.trim().toLowerCase();
                if (!emailRegex.test(normalizedEmail)) {
                    setIdentificationError('Por favor, digite um e-mail v√°lido.');
                    return;
                }

                const nominationsByEmail = getNominationsByEmail(normalizedEmail);
                const nextCategoryIndex = getNextAvailableCategoryIndex(0, nominationsByEmail);
                if (nextCategoryIndex === -1) {
                    setIdentificationError('Voc√™ j√° indicou algu√©m em todas as categorias. √â permitido apenas 1 indica√ß√£o por categoria.');
                    return;
                }
                
                // Salva identifica√ß√£o no localStorage
                localStorage.setItem('cs-awards-voter-name', voterName.trim());
                localStorage.setItem('cs-awards-voter-email', voterEmail.trim());
                
                setIdentificationError('');
                setCurrentCategoryIndex(nextCategoryIndex);
                setStep('nominating');
            };

            const handleAdminLogin = () => {
                if (adminPassword === CONFIG.ADMIN_PASSWORD) {
                    setIsAdminAuthenticated(true);
                    setShowAdminLogin(false);
                    setAdminPassword('');
                    sessionStorage.setItem('cs-admin-auth', 'true');
                } else {
                    alert('Senha incorreta!');
                    setAdminPassword('');
                }
            };

            const handleAdminLogout = () => {
                setIsAdminAuthenticated(false);
                sessionStorage.removeItem('cs-admin-auth');
            };

            useEffect(() => {
                const isAuth = sessionStorage.getItem('cs-admin-auth') === 'true';
                setIsAdminAuthenticated(isAuth);
            }, []);

            // VALIDA√á√ÉO CORRIGIDA - s√≥ limpa erro quando digita
            useEffect(() => {
                if (validationError && nomineeName.trim()) {
                    setValidationError('');
                }
            }, [nomineeName]);

            const handleReset = () => {
                setStep('welcome');
                setCurrentCategoryIndex(0);
                setIsAskingReason(false);
                setNomineeName('');
                setReason('');
                setValidationError('');
            };
            // FUN√á√ÉO HANDLENEXT CORRIGIDA - valida√ß√£o s√≥ no clique
            const handleNext = async () => {
                const nominationsByEmail = getNominationsByEmail(voterEmail);

                if (nomineeName.trim().toUpperCase() === 'N√ÉO') {
                    setValidationError(''); // Limpa erro se for "N√ÉO"
                    const nextCategoryIndex = getNextAvailableCategoryIndex(
                        currentCategoryIndex + 1,
                        nominationsByEmail
                    );
                    if (nextCategoryIndex === -1) {
                        setStep('finished');
                    } else {
                        setCurrentCategoryIndex(nextCategoryIndex);
                        setNomineeName('');
                        setReason('');
                        setIsAskingReason(false);
                    }
                    return;
                }

                if (!isAskingReason) {
                    if (!nomineeName.trim()) return;

                    const hasNominationInCategory = nominationsByEmail.some(
                        nomination => nomination.categoryId === currentCategory.id
                    );
                    if (hasNominationInCategory) {
                        setValidationError('Voc√™ j√° indicou algu√©m nesta categoria. √â permitido apenas 1 indica√ß√£o por categoria.');
                        return;
                    }
                    
                    // VALIDA√á√ÉO APENAS AQUI - quando tentar avan√ßar
                    const nameParts = nomineeName.trim().split(/\s+/).filter(part => part.length > 0);
                    if (nameParts.length < 2) {
                        setValidationError('Por favor, inclua o sobrenome. (ex: Jo√£o Silva)');
                        return;
                    }

                    // Verifica se cada parte tem pelo menos 2 caracteres
                    const hasValidParts = nameParts.every(part => part.length >= 2);
                    if (!hasValidParts) {
                        setValidationError('Nome e sobrenome devem ter pelo menos 2 caracteres cada');
                        return;
                    }

                    // Verifica se a pessoa est√° tentando se indicar
                    const normalizedName = nomineeName.trim().toLowerCase();
                    const normalizedVoterName = voterName.trim().toLowerCase();
                    if (normalizedName === normalizedVoterName) {
                        setValidationError('Voc√™ n√£o pode indicar a si mesmo(a)!');
                        return;
                    }

                    // Verifica se j√° foi indicado nesta categoria
                    const alreadyNominated = allNominations.some(
@@ -340,65 +380,69 @@
                    setIsSubmitting(true);
                    
                    const newNomination = {
                        categoryId: currentCategory.id,
                        categoryName: currentCategory.movieReference,
                        nomineeName: nomineeName.trim(),
                        reason: reason.trim() || undefined,
                        timestamp: new Date().toISOString(),
                        voterName: voterName.trim(),
                        voterEmail: voterEmail.trim()
                    };

                    // Salva localmente primeiro
                    const updatedNominations = [...allNominations, newNomination];
                    setAllNominations(updatedNominations);
                    localStorage.setItem('cs-awards-nominations', JSON.stringify(updatedNominations));

                    // Envia para Google Sheets
                    const result = await sendToGoogleSheets(newNomination);
                    
                    if (!result.success) {
                        console.error('Erro ao computar:', result.message);
                    }

                    setIsSubmitting(false);
                    setShowSuccessMark(true);

                    setTimeout(() => {
                        setShowSuccessMark(false);
                        const nextCategoryIndex = getNextAvailableCategoryIndex(
                            currentCategoryIndex + 1,
                            [...nominationsByEmail, newNomination]
                        );
                        if (nextCategoryIndex === -1) {
                            setStep('finished');
                        } else {
                            setCurrentCategoryIndex(nextCategoryIndex);
                            setNomineeName('');
                            setReason('');
                            setIsAskingReason(false);
                        }
                    }, 1000);
                }
            };
            const exportToCSV = async () => {
                if (!isAdminAuthenticated) {
                    alert("Acesso negado! Apenas administradores podem exportar dados.");
                    return;
                }

                const sheetsResult = await getFromGoogleSheets();
                let dataToExport = allNominations;

                if (sheetsResult.success && sheetsResult.data.length > 0) {
                    dataToExport = sheetsResult.data.map(row => ({
                        voterName: row.Votante || row.voterName,
                        voterEmail: row.Email || row.voterEmail,
                        categoryName: row.Categoria || row.categoryName,
                        nomineeName: row.Indicado || row.nomineeName,
                        reason: row.Motivo || row.reason,
                        timestamp: row.Timestamp || row.timestamp
                    }));
                }

                if (dataToExport.length === 0) {
                    alert("Nenhuma indica√ß√£o para exportar.");
                    return;
                }

@@ -477,53 +521,53 @@
                                    <div className="text-left">
                                        <label className="block text-[10px] uppercase tracking-[0.3em] text-white/60 font-black mb-2">
                                            Identifique-se para continuar
                                        </label>
                                        <div className="space-y-3">
                                            <input
                                                type="text"
                                                value={voterName}
                                                onChange={(e) => setVoterName(e.target.value)}
                                                placeholder="Seu nome completo..."
                                                className="w-full bg-black/60 border-2 border-gray-800 focus:border-[#d4af37] text-white p-4 rounded-xl outline-none transition-all text-sm placeholder:text-white/60"
                                            />
                                            <input
                                                type="email"
                                                value={voterEmail}
                                                onChange={(e) => setVoterEmail(e.target.value)}
                                                placeholder="Seu e-mail corporativo..."
                                                className="w-full bg-black/60 border-2 border-gray-800 focus:border-[#d4af37] text-white p-4 rounded-xl outline-none transition-all text-sm placeholder:text-white/60"
                                            />
                                        </div>
                                        {identificationError && (
                                            <p className="text-red-500 text-xs font-bold mt-2 flex items-center gap-2 animate-pulse">
                                                <span>‚ö†Ô∏è</span> {identificationError}
                                            </p>
                                        )}
                                        <p className="mt-3 text-[9px] text-gray-600 italic text-center">‚êä
                                            Permitido apenas 1 indica√ß√£o por categoria.
                                        </p>‚êä
                                    </div>
                                </div>

                                <button 
                                    onClick={handleStart}
                                    className="w-full py-5 oscar-bg-gold text-black font-black uppercase tracking-[0.2em] rounded-xl hover:scale-[1.03] hover:shadow-[0_0_40px_rgba(212,175,55,0.4)] active:scale-95 transition-all duration-300 shadow-2xl text-lg"
                                >
                                    Vamos come√ßar?
                                </button>
                                {/* Atalho Administrativo Discreto */}
                                <div className="mt-8 pt-6 border-t border-gray-900/30">
                                    {!isAdminAuthenticated ? (
                                        <div className="space-y-4">
                                            {!showAdminLogin ? (
                                                <button
                                                    onClick={() => setShowAdminLogin(true)}
                                                    className="w-full py-3 bg-gray-950/50 text-gray-600 text-[9px] font-bold uppercase tracking-[0.4em] rounded-lg hover:text-gray-400 hover:bg-gray-900/50 transition-all flex items-center justify-center gap-3"
                                                >
                                                    <span>üîê</span> Acesso R√°pido Admin
                                                </button>
                                            ) : (
                                                <div className="bg-gray-950/80 p-4 rounded-xl border border-gray-800/50 space-y-3">
                                                    <div className="text-center">
                                                        <h3 className="text-[#F5D98A] font-black text-xs uppercase tracking-widest mb-1">üîê Admin</h3>
                                                        <p className="text-white/60 text-[10px]">Acesso r√°pido para exporta√ß√£o</p>
                                                    </div>
                                                    <div className="space-y-2">
                                                        <input
                                                            type="password"
                                                            value={adminPassword}
                                                            onChange={(e) => setAdminPassword(e.target.value)}
                                                            onKeyDown={(e) => e.key === 'Enter' && handleAdminLogin()}
                                                            placeholder="Senha..."
                                                            className="w-full bg-black/60 border border-gray-700 focus:border-[#d4af37] text-white p-3 rounded-lg outline-none transition-all text-xs placeholder:text-white/60"
                                                            autoFocus
                                                        />
                                                        <div className="flex gap-2">
                                                            <button
                                                                onClick={() => {
                                                                    setShowAdminLogin(false);
                                                                    setAdminPassword('');
                                                                }}
                                                                className="flex-1 py-2 border border-gray-700 text-white/60 text-[10px] font-bold uppercase tracking-widest rounded-md hover:bg-gray-900 transition-all"
                                                            >
                                                                Cancelar
                                                            </button>
                                                            <button
                                                                onClick={handleAdminLogin}
                                                                disabled={!adminPassword.trim()}
                                                                className={`flex-[2] py-2 text-[10px] font-black uppercase tracking-widest rounded-md transition-all ${
                                                                    adminPassword.trim()
                                                                        ? 'oscar-bg-gold text-black hover:scale-[1.02]'
                                                                        : 'bg-gray-800 text-gray-600 cursor-not-allowed'
                                                                }`}
                                                            >
                                                                Entrar
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                    ) : (
                                        <div className="space-y-3">
                                            <div className="bg-green-950/20 border border-green-800/30 p-3 rounded-lg">
                                                <div className="flex items-center justify-between">
                                                    <div className="flex items-center gap-2">
                                                        <span className="text-green-400 text-sm">‚úì</span>
                                                        <div>
                                                            <p className="text-green-400 font-bold text-[10px] uppercase tracking-widest">Admin Logado</p>
                                                            <p className="text-green-300/70 text-[9px]">Acesso liberado</p>
                                                        </div>
                                                    </div>
                                                    <button
                                                        onClick={handleAdminLogout}
                                                        className="text-green-300/50 hover:text-green-300 text-[10px] underline"
                                                    >
                                                        Sair
                                                    </button>
                                                </div>
                                            </div>
                                            <div className="flex flex-col gap-2">
                                                <button
                                                    onClick={exportToCSV}
                                                    className="w-full py-3 oscar-bg-gold text-black text-[9px] font-black uppercase tracking-[0.4em] rounded-lg hover:scale-[1.02] transition-all flex items-center justify-center gap-3 shadow-lg"
                                                >
                                                    <span>üì•</span> Exportar CSV - Google Sheets
                                                </button>
                                                <button
                                                    onClick={clearAllData}
                                                    className="w-full py-2 bg-red-950/50 text-red-400 text-[8px] font-black uppercase tracking-[0.4em] rounded-lg hover:text-red-300 hover:bg-red-900/50 transition-all flex items-center justify-center gap-2"
                                                >
                                                    <span>üóëÔ∏è</span> Limpar Dados
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                    <p className="mt-3 text-[8px] text-gray-800 uppercase tracking-widest font-bold text-center">
                                        {isAdminAuthenticated ? 'Painel Admin Ativo' : 'Apenas para administradores'}
                                    </p>
                                </div>
                            </div>
                        </div>
                    )}
                    {step === 'nominating' && (
                        <div className="animate-fade-in relative min-h-[420px]">
                            {(showSuccessMark || isSubmitting) && (
                                <div className="absolute inset-0 z-20 flex flex-col items-center justify-center bg-black/95 backdrop-blur-md animate-fade-in rounded-2xl border border-[#d4af37]/30">
                                    <div className="w-24 h-24 rounded-full border-4 border-[#d4af37] flex items-center justify-center animate-bounce mb-6 shadow-[0_0_30px_rgba(212,175,55,0.4)]">
                                        {isSubmitting ? (
                                            <div className="w-8 h-8 border-4 border-[#d4af37] border-t-transparent rounded-full animate-spin"></div>
                                        ) : (
                                            <span className="text-5xl text-[#F5D98A]">‚úì</span>
                                        )}
                                    </div>
                                    <p className="text-[#F5D98A] font-black uppercase tracking-[0.3em] text-sm">
                                        {isSubmitting ? 'A academia est√° computando sua indica√ß√£o...' : 'Sua indica√ß√£o foi computada!'}
                                    </p>
                                </div>
                            )}

                            <div className="flex justify-between items-center mb-10">
                                <div className="flex flex-col">
                                    <span className="text-[#F5D98A] font-black text-[9px] uppercase tracking-[0.3em] mb-1">Progresso da Indica√ß√£o</span>
                                    <span className="text-white font-serif text-sm">Categoria {currentCategoryIndex + 1} de {CATEGORIES.length}</span>
                                </div>
                                <div className="h-1.5 w-32 md:w-48 bg-gray-900 rounded-full overflow-hidden">
                                    <div 
                                        className="h-full oscar-bg-gold transition-all duration-700 cubic-bezier(0.4, 0, 0.2, 1)" 
                                        style={{ width: `${((currentCategoryIndex + (isAskingReason ? 0.5 : 0)) / CATEGORIES.length) * 100}%` }}
                                    ></div>
                                </div>
                            </div>

                            {!isAskingReason ? (
                                <div className="space-y-10">
                                    <div className="space-y-6">
                                        <div className="oscar-bg-gold/5 border-l-4 border-[#d4af37] p-6 rounded-r-xl shadow-lg">
                                            <h3 className="text-[#F5D98A] font-serif font-black text-2xl md:text-3xl leading-tight">
                                                {currentCategory.movieReference}
                                            </h3>
                                        </div>
                                        <p className="text-gray-400 text-sm md:text-lg leading-relaxed font-light px-2">
                                            {currentCategory.description}
                                        </p>
                                    </div>

                                    <div className="space-y-4 pt-4">
                                        <label className="block text-[10px] uppercase tracking-[0.3em] text-white/60 font-black">
                                            Quem merece este reconhecimento?
                                        </label>
                                        
                                        <div className="relative group">
                                            <input
                                                autoFocus
                                                type="text"
                                                value={nomineeName}
                                                onChange={(e) => setNomineeName(e.target.value)}
                                                onKeyDown={(e) => e.key === 'Enter' && handleNext()}
                                                placeholder="Nome completo do indicado (ex: Jo√£o Silva)..."
                                                className={`w-full bg-black/60 border-2 text-white p-5 rounded-2xl outline-none transition-all duration-300 text-xl font-medium placeholder:text-white/60 ${
                                                    validationError 
                                                        ? 'border-red-600 shadow-[0_0_20px_rgba(220,38,38,0.2)]' 
                                                        : 'border-gray-800 focus:border-[#d4af37] focus:bg-black/80'
                                                }`}
                                            />
                                            
                                            {validationError && (
                                                <p className="text-red-500 text-xs font-bold mt-2 flex items-center gap-2 animate-pulse">
                                                    <span>‚ö†Ô∏è</span> {validationError}
                                                </p>
                                            )}
                                            
                                            <p className="mt-3 text-[10px] text-gray-600 italic">
                                                Ou digite "N√ÉO" para pular esta categoria.
                                            </p>
                                        </div>
                                    </div>

                                    <button
                                        disabled={!nomineeName.trim() || showSuccessMark || isSubmitting}
                                        onClick={handleNext}
                                        className={`w-full py-5 font-black uppercase tracking-[0.25em] rounded-xl transition-all duration-500 shadow-2xl text-sm ${
                                            !nomineeName.trim() || showSuccessMark || isSubmitting
                                                ? 'bg-gray-950 text-gray-800 cursor-not-allowed opacity-40'
                                                : 'oscar-bg-gold text-black hover:scale-[1.02] hover:shadow-[0_0_30px_rgba(212,175,55,0.3)] active:scale-[0.98]'
                                        }`}
                                    >
                                        {nomineeName.trim().toUpperCase() === 'N√ÉO' ? 'Pular Categoria' : 'Continuar'}
                                    </button>
                                </div>
                            ) : (
                                <div className="space-y-10 animate-fade-in">
                                    <div className="bg-gradient-to-br from-[#1a1a1a] to-black p-8 rounded-2xl border border-white/5 shadow-2xl">
                                        <p className="text-[10px] text-gray-600 uppercase tracking-widest font-black mb-2">
                                            Indicado para o pr√™mio:
                                        </p>
                                        <p className="text-3xl font-serif font-black text-[#F5D98A] uppercase tracking-wider underline underline-offset-8 decoration-1 decoration-[#d4af37]/30">
                                            {nomineeName}
                                        </p>
                                    </div>

                                    <div className="space-y-4">
                                        <label className="block text-[10px] uppercase tracking-[0.3em] text-white/60 font-black">
                                            Qual foi o momento, atitude ou detalhe que fez voc√™ pensar: ‚Äúessa pessoa merece essa indica√ß√£o‚Äù?
                                        </label>
                                        
                                        <div className="relative">
                                            <textarea
                                                autoFocus
                                                maxLength={140}
                                                value={reason}
                                                onChange={(e) => setReason(e.target.value)}
                                                onKeyDown={(e) => e.key === 'Enter' && !e.shiftKey && handleNext()}
                                                placeholder="Por que essa indica√ß√£o? Conte-nos um pouco..."
                                                className="w-full h-44 bg-black/60 border-2 border-gray-800 focus:border-[#d4af37] text-white p-6 rounded-2xl outline-none transition-all resize-none text-lg font-light leading-relaxed placeholder:text-white/60"
                                            />
                                            <div className={`absolute bottom-5 right-6 text-[11px] font-black tracking-widest ${
                                                reason.length >= 130 ? 'text-red-500' : 'text-gray-700'
                                            }`}>
                                                {reason.length} / 140
                                            </div>
                                        </div>
                                    </div>

                                    <div className="flex flex-col md:flex-row gap-4">
                                        <button
                                            disabled={showSuccessMark || isSubmitting}
                                            onClick={() => setIsAskingReason(false)}
                                            className="flex-1 py-5 border-2 border-gray-800 text-gray-600 font-bold uppercase tracking-widest rounded-xl hover:bg-gray-900 transition-all text-xs"
                                        >
                                            Alterar Nome
                                        </button>
                                        <button
                                            disabled={showSuccessMark || isSubmitting}
                                            onClick={handleNext}
                                            className="flex-[2] py-5 oscar-bg-gold text-black font-black uppercase tracking-[0.25em] rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-500 shadow-2xl text-sm"
                                        >
                                            {isSubmitting ? 'Salvando...' : 'Confirmar indica√ß√£o'}
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    )}
                    {step === 'finished' && (
                        <div className="flex flex-col items-center text-center animate-fade-in py-16">
                            <div className="relative mb-10">
                                <div className="absolute inset-0 bg-[#d4af37] blur-[60px] opacity-25 rounded-full animate-pulse"></div>
                                <div className="text-9xl relative z-10 drop-shadow-[0_10px_20px_rgba(0,0,0,0.5)]">üèÜ</div>
                            </div>

                            <h2 className="text-4xl md:text-5xl font-serif font-black text-white mb-6 uppercase tracking-tighter">
                                Vota√ß√£o Finalizada!
                            </h2>
                            
                            <p className="text-gray-400 mb-14 text-sm md:text-lg font-light leading-relaxed max-w-sm">
                                Suas indica√ß√µes foram registradas no tapete vermelho. <br />
                                {CONFIG.TEXTS.CEREMONY_MESSAGE} <strong className="text-[#F5D98A] font-bold">{CONFIG.CEREMONY_DATE}</strong>!
                            </p>

                            <div className="w-full space-y-6">
                                <button
                                    onClick={handleReset}
                                    className="w-full py-5 border-2 border-[#d4af37]/40 text-[#F5D98A] font-black uppercase tracking-[0.3em] rounded-xl hover:bg-[#d4af37]/10 hover:border-[#d4af37] transition-all active:scale-[0.98] text-sm"
                                >
                                    Indicar outra pessoa
                                </button>

                                <div className="pt-16 border-t border-gray-900 space-y-4">
                                    {!isAdminAuthenticated ? (
                                        <div className="space-y-4">
                                            {!showAdminLogin ? (
                                                <button
                                                    onClick={() => setShowAdminLogin(true)}
                                                    className="w-full py-4 bg-gray-950 text-gray-700 text-[10px] font-black uppercase tracking-[0.5em] rounded-xl hover:text-white hover:bg-gray-900 transition-all flex items-center justify-center gap-4"
                                                >
                                                    <span>üîê</span> Acesso Administrativo
                                                </button>
                                            ) : (
                                                <div className="bg-gray-950 p-6 rounded-xl border border-gray-800 space-y-4">
                                                    <div className="text-center">
                                                        <h3 className="text-[#F5D98A] font-black text-sm uppercase tracking-widest mb-2">üîê Login Administrativo</h3>
                                                        <p className="text-white/60 text-xs">Digite a senha para acessar funcionalidades administrativas</p>
                                                    </div>
                                                    <div className="space-y-3">
                                                        <input
                                                            type="password"
                                                            value={adminPassword}
                                                            onChange={(e) => setAdminPassword(e.target.value)}
                                                            onKeyDown={(e) => e.key === 'Enter' && handleAdminLogin()}
                                                            placeholder="Senha de administrador..."
                                                            className="w-full bg-black/60 border-2 border-gray-800 focus:border-[#d4af37] text-white p-4 rounded-xl outline-none transition-all text-sm placeholder:text-white/60"
                                                            autoFocus
                                                        />
                                                        <div className="flex gap-3">
                                                            <button
                                                                onClick={() => {
                                                                    setShowAdminLogin(false);
                                                                    setAdminPassword('');
                                                                }}
                                                                className="flex-1 py-3 border border-gray-700 text-white/60 text-xs font-bold uppercase tracking-widest rounded-lg hover:bg-gray-900 transition-all"
                                                            >
                                                                Cancelar
                                                            </button>
                                                            <button
                                                                onClick={handleAdminLogin}
                                                                disabled={!adminPassword.trim()}
                                                                className={`flex-[2] py-3 text-xs font-black uppercase tracking-widest rounded-lg transition-all ${
                                                                    adminPassword.trim()
                                                                        ? 'oscar-bg-gold text-black hover:scale-[1.02]'
                                                                        : 'bg-gray-800 text-gray-600 cursor-not-allowed'
                                                                }`}
                                                            >
                                                                Entrar
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                    ) : (
                                        <div className="space-y-4">
                                            <div className="bg-green-950/30 border border-green-800/50 p-4 rounded-xl">
                                                <div className="flex items-center justify-between">
                                                    <div className="flex items-center gap-3">
                                                        <span className="text-green-400 text-lg">‚úì</span>
                                                        <div>
                                                            <p className="text-green-400 font-bold text-xs uppercase tracking-widest">Administrador Autenticado</p>
                                                            <p className="text-green-300/70 text-[10px]">Dados sincronizados</p>
                                                        </div>
                                                    </div>
                                                    <button
                                                        onClick={handleAdminLogout}
                                                        className="text-green-300/50 hover:text-green-300 text-xs underline"
                                                    >
                                                        Sair
                                                    </button>
                                                </div>
                                            </div>
                                            <div className="flex flex-col gap-3">
                                                <button
                                                    onClick={exportToCSV}
                                                    className="w-full py-4 oscar-bg-gold text-black text-[10px] font-black uppercase tracking-[0.5em] rounded-xl hover:scale-[1.02] transition-all flex items-center justify-center gap-4 shadow-lg"
                                                >
                                                    <span>üì•</span> Extrair Dados (CSV) - Google Sheets
                                                </button>
                                                <button
                                                    onClick={clearAllData}
                                                    className="w-full py-3 bg-red-950 text-red-400 text-[9px] font-black uppercase tracking-[0.5em] rounded-xl hover:text-red-300 hover:bg-red-900 transition-all flex items-center justify-center gap-3"
                                                >
                                                    <span>üóëÔ∏è</span> Limpar Todos os Dados
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                    <p className="mt-4 text-[9px] text-gray-800 uppercase tracking-widest font-bold text-center">
                                        {isAdminAuthenticated ? 'Dados sincronizados com Google Sheets' : 'Dados salvos automaticamente'}
                                    </p>
                                </div>
                            </div>
                        </div>
                    )}
                </Layout>
            );
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root')); root.render(<App />);;
    </script>
</body>
</html>



